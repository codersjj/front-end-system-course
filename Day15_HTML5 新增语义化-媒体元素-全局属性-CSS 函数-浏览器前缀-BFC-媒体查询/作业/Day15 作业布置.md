# Day15 作业布置

## 一. 完成上课所有的代码练习

见 `Learn_HTML_CSS`

## 二. 说说你对BFC的理解（面试题）

- `BFC` 是 `Block Formatting Context` 的缩写，翻译过来是“块级格式化上下文”的意思；
- 这里的“格式化上下文”（`FC`）可以理解为元素的布局环境，在标准流中的元素（盒子）都属于一个 `FC`；
- 块级盒子在 `BFC` 中布局，行内级盒子在 `IFC`（`Inline Formatting Context`） 中布局；
- 那么对于 `BFC`：
  - 官方文档有说明，浮动、绝对定位元素、非块级盒子的块容器（比如内联块、表格单元格、表格标题）以及具有除 `visible` 以外的 `overflow` 属性值的块级盒子，都会为它们的内容建立新的块级格式化上下文；
  - `MDN` 上也有整理出哪些情况下会创建 `BFC`：
    - 文档根元素（`<html>`）
    - 浮动元素
    - 绝对定位元素（`position` 的值为 `absolute` 或 `fixed`）
    - 行内块元素（`display` 为 `inline-block`）
    - 表格单元格（`display` 为 `table-cell`）、表格标题（`display` 为 `table-caption`）
    - 由元素（`display` 为 `table`、`table-row`、`table-row-group`、`table-header-group`、`table-footer-group`、`inline-table`）隐式创建的匿名表格单元格元素
    - `overflow` 不为 `visible`、`clip` 的块元素
    - 弹性元素
    - 网格元素
    - `display` 为 `flow-root` 的元素
- `BFC` 有什么特点呢？
  - 在一个 `BFC` 中，元素会**在垂直方向上一个挨着一个（`one after the other`）排布**；
  - 垂直方向上的间距由 `margin` 属性决定；
  - 在同一个 `BFC` 中，相邻两个块级盒子之间垂直方向上的 `margin` 会折叠（`collapse`）；
  - 在一个 `BFC` 中，**每个元素的左边缘是紧挨着包含块的左边缘**（对于从右到左的格式，则是紧挨着右边缘）
- 所以 `BFC` 可以用来做什么呢？
  - 解决 `margin` 的折叠问题；
    - 由于在同一个 `BFC` 中，相邻的两个块级盒子之间的垂直方向上的 `margin` 会折叠，那么我们可以让这两个盒子分别属于不同的 `BFC`，来阻止它们之间的上下 `margin` 折叠；
    - 具体可以这样做：给其中的一个块级盒子包裹一层 `<div>`，并给这个外层的 `<div>` 设置 `overflow: auto;`，这样就会触发这个 `<div>` 元素创建一个新的 `BFC`，于是这个 `<div>` 元素中的那个块级盒子就属于了这个新的 `BFC`，而之前相邻的那个块级盒子则仍然属于之前的那个 `BFC`，此时，两个块级盒子分别属于不同的 `BFC`，它们垂直方向上的 `margin` 也就不会出现折叠的现象了。
      - 注意：直接给其中的一个块级盒子设置 `overflow: auto;` 无法解决折叠问题，因为这样做虽然确实创建了一个新的 `BFC`，但这个 `BFC` 只是对该块级盒子里面的元素生效，该块级盒子本身还是在原先的那个 `BFC` 中。
  - 解决浮动高度塌陷问题；
    - 我们知道，浮动元素会脱离标准流，并不再向其父元素汇报高度，这就可能导致父元素的高度为 `0`；
    - 通常，我们会使用 `CSS` 的 `clear` 属性来清除浮动，以解决这一问题；
    - 其实，`BFC` 也可以解决浮动高度塌陷问题，实现清除浮动的效果；
      - 比如直接在浮动元素的父元素上设置 `overflow: auto;` 即可；
    - 对此，网上有很多说法，但是鲜有人给出过 `BFC` 可以解决高度塌陷的原理或者权威的文档说明，也没有办法解释为什么可以解决浮动时的高度塌陷问题，却不能解决绝对定位时的高度塌陷问题；
    - 事实上，官方文档有说明，创建出 `BFC` 的那个元素的高度为 `auto` 时，会按照如下方式计算高度：
      - 如果该元素中只有行内级子元素，那么其高度是最高行盒的顶部到最低行盒的底部的距离；
      - 如果有块级子元素，那么其高度是最顶部块级子盒的顶部 `margin` 边缘与最底部块级子盒的底部 `margin` 边缘之间的距离；
        - 个人理解，这里的高度只是针对块级子元素所涉及的区域计算出来的一个值，创建出 `BFC` 的那个元素最终的高度值还要考虑最顶部和最底部块级子盒之外的其它区域的高度，比如，如果还有行内级子元素，也会将其高度计算在内；
      - 如果有**绝对定位的子元素，将被忽略**，而相对定位的盒子会在排除偏移后被考虑在内；
      - 如果有浮动的后代元素，其底部 `margin` 边缘低于元素（创建出 `BFC` 的那个元素）的底部 `content` 边缘，那么元素（创建出 `BFC` 的那个元素）会增加高度以包括这些浮动元素的底部 `margin` 边缘。注意，只有参与此 `BFC` 的浮动才会被考虑在内，例如，绝对定位的后代中的浮动或其它浮动元素中的浮动都不会被考虑在内。
    - 也就是说，`BFC` 解决高度塌陷需要满足两个条件：
      - 触发 `BFC`（形成独立的块级格式化上下文）的需要是浮动元素的父元素；
      - 浮动元素的父元素的高度需要是 `auto`（默认值）；
  - 自适应多栏布局
    - 我们知道，在 `BFC` 中，**每个元素的左边缘是紧挨着包含块的左边缘**的（对于从右到左的格式，则是紧挨着右边缘），即使存在浮动也是如此；
    - 不过，官方文档还有提到，表格的边框盒子、块级替换元素、在标准流中建立了新的 `BFC` 的元素（比如 `overflow` 不为 `visible` 的元素）不得与该元素本身所在的同一个 `BFC` 中的浮动元素的 `margin` 盒子重叠。
    - 这可以简单理解为，同一个 `BFC` 下，新创建的 `BFC` 的区域不会与浮动元素重叠。
    - 那么，以两栏布局为例，假设有 `div.aside`（浮动） 和 `div.main` 两栏，我们就可以通过触发 `div.main` 生成一个新的 `BFC`，来实现自适应的两栏布局。

## 三. 整理<王者荣耀>用到的CSS知识点

- 定位：`absolute`、`relative`、`fixed`
  - 实现水平/垂直居中；
    - 给盒子明确指定宽/高，`left: 0; right: 0;`/`top: 0; bottom: 0;`，对应方向的 `margin` 设置为 `auto`；
  - 实现水平垂直居中；
  - 实现覆盖的效果；
  - 设置定位元素的层级；
    - `z-index`
- `flex` 布局
  - 使用 `justify-content` 设置 `flex items` 在主轴上的排布方式（沿 `Flex` 容器的主轴分配 `Flex` 容器的剩余空间），使用 `align-items` 设置 `flex items` 在侧轴上的对齐方式（将所有 `Flex` 项目作为一个组，沿 `Flex` 容器侧轴对齐）；
- 过渡和动画
  - `display` 不支持动画，可以在 `display: block;` 的时候给 `opacity` 设置动画；


